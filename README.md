TypeScript + Webpack + Debugging
============================================

To start fast:

> Run in terminal:

```ps
npm run start-development
```

> Set some breakpoints in `index.ts` for example.

> Select the debugging target `Launch Edge Headless and attach DevTools` and press F5.

Description
============================================

Allows debug a TypeScript project that launches an Html page.


TypeScript configuration
------------------------

Enable sourceMap in `tsconfig.json`:

```json
{
  "compilerOptions": {
    "sourceMap": true
  }
}
```

Add `index.d.ts` file with common file types (png, jpg, css, etc.) and add in the include section

```json
"include": ["src", "index.d.ts"]
```


Webpack configuration
---------------------
### Inheritance
`webpack.base.js`

### Sourcemaps

Enable sourcemaps in your Webpack configuration:

```js
{
  devtool: 'source-map'
}
```

use `asset/resource` as resource bundleler


### Sourcemaps Modules Absolute Paths

This will output the absolute path of your source files in the sourcemaps:

```js
{
  output: {
    devtoolModuleFilenameTemplate: '[absolute-resource-path]'
  }
}
```


VSCode configuration
--------------------

You need to create a `launch.json` in the `.vscode` folder at the root of your project.

When you want to launch a pure node project, use the `Node Server` configuration.

```json
{
  "version": "0.2.0",
  "configurations": [
    { // Set mode to node in both tsconfig.json and webpack.base.json
      //No UI
      "name": "Node Server",
      "type": "node",
      "request": "launch",
      "cwd": "${workspaceRoot}",
      "program": "${workspaceRoot}/src/index.ts",
      "outFiles": [
        "${workspaceRoot}/dist/bundle.js"
      ],
      "sourceMaps": true,
      "preLaunchTask": "build-development"
    },
}
```

Specify in `"program"` the **source file** corresponding to the entry-point of your program.

In `"outFiles"` specify the path to the bundle generated by Webpack.

Set `"sourceMaps"` to `true`.

It is easier to install `Microsoft Edge Tools` to integrate debugging inside de environemnt.

For that create the configurations in `launch.json`. This is precreated in then `Microsoft Edge Tools` configuration button in the left side at the bottom.

```json
    {
      "type": "pwa-msedge",
      "name": "Launch Microsoft Edge in headless mode",
      "request": "launch",
      "runtimeArgs": [
        "--headless",
        "--remote-debugging-port=9222"
      ],
      "url": "http://localhost:8080/index.html",
      "presentation": {
        "hidden": true
      }
    },
    {
      "type": "vscode-edge-devtools.debug",
      "name": "Open Edge DevTools",
      "request": "attach",
      "url": "http://localhost:8080/index.html",
      "presentation": {
        "hidden": true
      }
```
